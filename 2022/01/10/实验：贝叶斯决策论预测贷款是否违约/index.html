<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="Sunburst7">
    
    <title>
        
            实验：贝叶斯决策论预测贷款是否违约 |
        
        Sunburst7&#39;s Blog
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/images/blog.svg">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/css/font-awesome.min.css">
    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"sunburst7.github.io","root":"/","language":"en","path":"search.json"};
    KEEP.theme_config = {"toc":{"enable":true,"number":false,"expand_all":true,"init_open":true},"style":{"primary_color":"#0066CC","avatar":"/images/希露菲.jpg","favicon":"/images/blog.svg","article_img_align":"left","left_side_width":"260px","content_max_width":"920px","hover":{"shadow":true,"scale":false},"first_screen":{"enable":true,"background_img":"/images/bg.svg","description":"遍履城山不求仙，独羇花月欲穷年，一罢掷杯秋泓饮，胜却青锋十三弦。"},"scroll":{"progress_bar":{"enable":false},"percent":{"enable":false}}},"local_search":{"enable":true,"preload":true},"code_copy":{"enable":true,"style":"mac"},"pjax":{"enable":false},"lazyload":{"enable":true},"version":"3.4.5"};
    KEEP.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
  </script>
<meta name="generator" content="Hexo 5.4.0"><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head>


<body>
<div class="progress-bar-container">
    

    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            $logo-title-font-size = 2rem;
$pc-search-icon-font-size = 1.5rem;
$menu-bar-line-height = 2.5px;
$logo-image-box-width = 46px;

.header-wrapper {
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--background-color);
  padding-top: $scroll-progress-bar-height;

  hover-style(false, 0, 0);

  .header-content {
    position: relative;
    height: 100%;
    width: $main-content-width;
    max-width: $content-max-width;
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
    z-index: $z-index-5;


    &.has-first-screen {
      max-width: $content-max-width * 1.2;
    }

    +keep-tablet() {
      width: $main-content-width-tablet;
    }

    +keep-mobile() {
      width: $main-content-width-mobile;
    }

    .left {
      display: flex;
      align-items: center;
      transition-t("transform", "0", "0.2", "linear");

      .header-shrink & {
        transform: scale(0.72);
        transform-origin: left;
      }


      if (hexo-config('base_info.logo_img') && hexo-config('base_info.logo_img') != '') {
        .logo-image {
          width: $logo-image-box-width;
          height: $logo-image-box-width;
          margin-right: 8px;


          +keep-tablet() {
            width: $logo-image-box-width * 0.9;
            height: $logo-image-box-width * 0.9;
          }

          +keep-mobile() {
            width: $logo-image-box-width * 0.8;
            height: $logo-image-box-width * 0.8;
          }

          img {
            border-radius: 6px;
            width: 100%;
          }
        }

      }

      .logo-title {
        font-size: $logo-title-font-size;
        font-weight: bold;
        letter-spacing: 1px;
        line-height: 1;
        color: var(--first-text-color);

        +keep-tablet() {
          font-size: $logo-title-font-size * 0.9;
        }

        +keep-mobile() {
          font-size: $logo-title-font-size * 0.8;
        }
      }

    }


    .right {

      .pc {

        .menu-list {
          display: flex;
          align-items: center;

          +keep-tablet() {
            display: none;
          }


          .menu-item {
            float: left;
            position: relative;
            margin-left: 30px;
            font-size: 1rem;
            cursor: pointer;
            color: var(--default-text-color);

            &:first-child {
              margin-left: 0;
            }


            a:hover, .active {

              &::after {
                content: '';
                position: absolute;
                bottom: -10px;
                left: 50%;
                width: 100%;
                height: 2px;
                transform: translateX(-50%);
                background: var(--primary-color);
                transition-t("transform, bottom", "0, 0", "0.2, 0.2", "linear, linear");

                .header-shrink & {
                  bottom: -($header-shrink-height / 2 - 12);
                }
              }
            }

            &.search {
              font-size: $pc-search-icon-font-size;
              margin-left: 26px;

              i {
                color: var(--default-text-color);
              }

            }
          }


        }

      }


      .mobile {
        display: flex;
        justify-content: space-between;
        align-items: center;

        .icon-item {
          display: none;
          position: relative;
          cursor: pointer;
          font-size: 18px;
          margin-left: 12px;
          width: 20px;
          height: 20px;
          color: var(--default-text-color);

          i {
            color: var(--default-text-color);
          }

          &:first-child {
            margin-left: 0;
          }

          +keep-tablet() {
            display: flex;
            justify-content: center;
            align-items: center;
          }
        }

        .menu-bar {

          .menu-bar-middle {
            width: 18px;
            height: $menu-bar-line-height;
            position: relative;
            background: var(--default-text-color);

            .header-drawer-show & {
              background: transparent;
            }


            &::before, &::after {
              content: '';
              position: absolute;
              left: 0;
              width: 100%;
              height: $menu-bar-line-height;
              background: var(--default-text-color);
              transition-t("transform", "0", "0.38", "ease");
            }


            &::before {
              top: -6px;

              .header-drawer-show & {
                transform: translateY(6px) rotate(45deg);
              }
            }


            &::after {
              bottom: -6px;

              .header-drawer-show & {
                transform: translateY(-6px) rotate(-45deg);
              }
            }
          }
        }
      }
    }
  }


  .header-drawer {
    width: 100%;
    padding: $header-height 0 20px 0;
    position: absolute;
    top: 0;
    left: 0;
    transform: scaleY(0);
    transform-origin: top;
    z-index: $z-index-2;
    background: var(--background-color);
    transition-t("transform", "0", "0.38", "ease");

    .header-drawer-show & {
      transform: scaleY(1);
    }

    .drawer-menu-list {
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;

      .drawer-menu-item {
        font-size: 1rem;
        margin: 6px 0;
        height: 38px;

        a {
          padding: 6px 20px;
          border-radius: 20px;
          color: var(--default-text-color);

          &:hover {
            color: var(--second-text-color);
            border: 1px solid var(--default-text-color);
          }


          &.active {
            border: 1px solid var(--default-text-color);
            color: var(--second-text-color);
          }
        }


      }
    }
  }


  .window-mask {
    position: absolute;
    top: 0;
    width: 100%;
    height: 100vh;
    background: rgba(0, 0, 0, 0.4);
    z-index: $z-index-1;
    visibility: hidden;
    opacity: 0;
    transition-t("transform, opacity", "0, 0", "0.38, 0.38", "ease, ease");

    .header-drawer-show & {
      visibility: visible;
      opacity: 1;
    }
  }

}

.header-drawer-show {
  overflow: hidden;
}

        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">实验：贝叶斯决策论预测贷款是否违约</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="/images/%E5%B8%8C%E9%9C%B2%E8%8F%B2.jpg">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">Sunburst7</span>
                        
                            <span class="author-label">Lv4</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;
        <span class="pc">2022-01-10 23:21:09</span>
        <span class="mobile">2022-01-10 23:21</span>
    </span>
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">机器学习</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">机器学习</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/python/">python</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fas fa-file-word"></i>&nbsp;<span>4.1k Words</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fas fa-clock"></i>&nbsp;<span>16 Mins</span>
        </span>
    
    
        <span class="article-pv article-meta-item">
            <i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <h1 id="实验说明"><a href="#实验说明" class="headerlink" title="实验说明"></a>实验说明</h1><h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>信用风险是指银行向用户提供金融服务后，用户不还款的概率。信用风险一直是银行贷款决策中广泛研究的领域。信用风险对银行和金融机构，特别是商业银行来说，起着至关重要的作用，但是一直以来都比较难管理。</p>
<p>本实验以贷款违约为背景，要求使用贝叶斯决策论的相关知识在训练集上构建模型，在测试集上进行贷款违约预测并计算分类准确度。</p>
<h2 id="实验数据说明"><a href="#实验数据说明" class="headerlink" title="实验数据说明"></a>实验数据说明</h2><p>训练数据集train.csv包含9000条数据，测试数据集test.csv包含1000条数据。注意，训练集和测试集中都有缺失值存在。以下是字段说明：</p>
<table>
<thead>
<tr>
<th><strong>字段</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody><tr>
<td>loan_id</td>
<td>贷款记录唯一标识</td>
</tr>
<tr>
<td>user_id</td>
<td>借款人唯一标识</td>
</tr>
<tr>
<td>total_loan</td>
<td>贷款数额</td>
</tr>
<tr>
<td>year_of_loan</td>
<td>贷款年份</td>
</tr>
<tr>
<td>interest</td>
<td>当前贷款利率</td>
</tr>
<tr>
<td>monthly_payment</td>
<td>分期付款金额</td>
</tr>
<tr>
<td>Grade/class</td>
<td>贷款级别</td>
</tr>
<tr>
<td>employment_type</td>
<td>所在公司类型</td>
</tr>
<tr>
<td>industry</td>
<td>工作领域</td>
</tr>
<tr>
<td>work_year</td>
<td>工作年限</td>
</tr>
<tr>
<td>home_exist</td>
<td>是否有房</td>
</tr>
<tr>
<td>censor_status</td>
<td>审核情况</td>
</tr>
<tr>
<td>issue_date</td>
<td>贷款发放的月份</td>
</tr>
<tr>
<td>use</td>
<td>贷款用途类别</td>
</tr>
<tr>
<td>post_code</td>
<td>贷款人申请时邮政编码</td>
</tr>
<tr>
<td>region</td>
<td>地区编码</td>
</tr>
<tr>
<td>debt_loan_ratio</td>
<td>债务收入比</td>
</tr>
<tr>
<td>del_in_18month</td>
<td>借款人过去18个月逾期30天以上的违约事件数</td>
</tr>
<tr>
<td>scoring_low</td>
<td>借款人在贷款评分中所属的下限范围</td>
</tr>
<tr>
<td>scoring_high</td>
<td>借款人在贷款评分中所属的上限范围</td>
</tr>
<tr>
<td>known_outstanding_loan</td>
<td>借款人档案中未结信用额度的数量</td>
</tr>
<tr>
<td>known_dero</td>
<td>贬损公共记录的数量</td>
</tr>
<tr>
<td>pub_dero_bankrup</td>
<td>公开记录清除的数量</td>
</tr>
<tr>
<td>recircle_bal</td>
<td>信贷周转余额合计</td>
</tr>
<tr>
<td>recircle_util</td>
<td>循环额度利用率</td>
</tr>
<tr>
<td>initial_list_status</td>
<td>贷款的初始列表状态</td>
</tr>
<tr>
<td>app_type</td>
<td>是否个人申请</td>
</tr>
<tr>
<td>earlies_credit_mon</td>
<td>借款人最早报告的信用额度开立的月份</td>
</tr>
<tr>
<td>title</td>
<td>借款人提供的贷款名称</td>
</tr>
<tr>
<td>policy_code</td>
<td>公开可用的策略_代码=1新产品不公开可用的策略_代码=2</td>
</tr>
<tr>
<td>f系列匿名特征</td>
<td>匿名特征f0-f4，为一些贷款人行为计数特征的处理</td>
</tr>
<tr>
<td>early_return</td>
<td>借款人提前还款次数</td>
</tr>
<tr>
<td>early_return_amount</td>
<td>贷款人提前还款累积金额</td>
</tr>
<tr>
<td>early_return_amount_3mon</td>
<td>近3个月内提前还款金额</td>
</tr>
<tr>
<td>isDefault</td>
<td>贷款是否违约（预测标签）</td>
</tr>
</tbody></table>
<h2 id="实验注意事项"><a href="#实验注意事项" class="headerlink" title="实验注意事项"></a>实验注意事项</h2><ul>
<li><p>实验不限制使用何种高级语言，推荐使用python中pandas库处理csv文件。</p>
</li>
<li><p>在进行贝叶斯分类之前重点是对数据进行预处理操作，如，缺失值的填充、将文字表述转为数值型、日期处理格式（处理成“年-月-日”三列属性或者以最早时间为基准计算差值）、无关属性的删除等方面。</p>
</li>
<li><p>数据中存在大量连续值的属性，不能直接计算似然，需要将连续属性离散化。</p>
</li>
<li><p>另外，特别注意零概率问题，贝叶斯算法中如果乘以0的话就会失去意义，需要使用平滑技术。</p>
</li>
<li><p>实验目的是使用贝叶斯处理实际问题，不得使用现成工具包直接进行分类。</p>
</li>
<li><p>实验代码中需要有必要的注释。</p>
</li>
</ul>
<h1 id="实验数据分析"><a href="#实验数据分析" class="headerlink" title="实验数据分析"></a>实验数据分析</h1><p>训练样本是没有预处理的数据，直接用来训练模型是不现实的，首先我们要进行数据的分析。</p>
<p>贷款记录唯一标识(loan_id)、借款人唯一标识(user_id)属于<strong>标志属性</strong>，与实际问题没有关联，可以删除。</p>
<p>贷款年份(year_of_loan)、贷款发放的月份(issue_date)、借款人最早报告的信用额度开立的月份(earlies_credit_mon)、贷款人申请时邮政编码(post_code)、地区编码(region)。这些时间地点属性对贷款人的还款行为没有过多影响，也可以剔除。【1】</p>
<p>通过对剩下的字段画出频率分布直方图分析：</p>


<p>是否个人申请(app.type)、公开可用的策略(policy_code)、匿名特征(f1)属于归一化属性，即一个变量大部分的观测都是相同的特征，那么认为此类特征变量无法显著区分目标变量，可以考虑将其删除。</p>
<p>而工作领域(industry)、(贷款级别)class、(工作年限)work_year、(所在公司类型)employer_type，这些字段都是属于分类变量，需要进行<strong>分类处理</strong>。</p>
<p>同时字段total_loan、interest、monthly_payment、debt_loan_ratio、scoring_low、scoring_high、 recircle_b、recircle_u、early_return_amount_3mon的取值是连续值（小数），因此需要对这些数据进行离散化。特征离散化后，模型会更稳定，降低了模型过拟合的风险。</p>
<p>对于缺失的数据，可以利用众数填充。</p>
<h1 id="实验原理"><a href="#实验原理" class="headerlink" title="实验原理"></a>实验原理</h1><h2 id="主要原理"><a href="#主要原理" class="headerlink" title="主要原理"></a>主要原理</h2><p>本次实验原理主要为<strong>朴素贝叶斯决策论</strong>。什么是贝叶斯决策论可以看我的上一篇文章：</p>
<blockquote>
<p><a class="link" target="_blank" rel="noopener" href="https://blog.csdn.net/qq_45785407/article/details/120723188">(3条消息) 贝叶斯决策论理论_Sunburst7的博客-CSDN博客<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
<p>如果使用普通的贝叶斯方法计算后验概率时，类条件概率是特征向量上所有特征的联合概率，难以从有限的训练样本中直接得到。为了避开这个障碍，朴素贝叶斯分类器采用了属性条件独立性假设：对已知类别，假设所有属性相互独立，换言之，假设每个属性独立地对分类结果发生影响。基于这个假设，我们的后验概率可以修改为：【2】</p>
<h2 id="3-2-处理分类数据"><a href="#3-2-处理分类数据" class="headerlink" title="3.2 处理分类数据"></a>3.2 处理分类数据</h2><p>有时候，根据某种特性而不是数量来度量对象会更有效。我们常常使用这种定性的信息来判断一个观察值的属性，比如按照性别、颜色或者车的品牌这样的类别对其分类。<strong>本身没有内在顺序的特征类别称为 nominal。分类的特征总是有某种天然顺序的称为ordinary</strong>。【3】</p>
<ul>
<li>对于内部没有顺序的分类（性别，水果类型）：通常使用one-hot编码</li>
<li>对于内部有顺序的分类（非常同意、同意、保持中立、反对..）：将 ordinal 分类转换成数值，同时保留其顺序。最常见的方法就是，创建一个字典，将分类的字符串标签映射为一个数字，然后将 其映射在特征上。</li>
</ul>
<p>本次实验中的class、industry、work_year、employer_type都属于分类特征，我们可以采用将特征值映射到一个数字的方法。</p>
<h2 id="数据离散化"><a href="#数据离散化" class="headerlink" title="数据离散化"></a>数据离散化</h2><p>对于连续型的特征，在计算似然时很难找到同类型的数据，这样就会出现类条件概率为0的情况，使得分类器判别出现误差，为了避免这种情况，需要将连续特征离散化。这里用到的技术通常被称为<strong>数据分箱</strong>：【4】</p>
<img lazyload="" src="/images/loading.svg" data-src="/2022/01/10/%E5%AE%9E%E9%AA%8C%EF%BC%9A%E8%B4%9D%E5%8F%B6%E6%96%AF%E5%86%B3%E7%AD%96%E8%AE%BA%E9%A2%84%E6%B5%8B%E8%B4%B7%E6%AC%BE%E6%98%AF%E5%90%A6%E8%BF%9D%E7%BA%A6/d50b3d58d24fc46534b60ea9880e943a.png" class="" title="img">

<p>常见的分箱方法主要分为有监督与无监督两种，本实验采用卡方分箱对数据离散化：</p>
<ul>
<li>无监督分箱：不需要提供预测标签，仅凭借特征就能实现分箱<ul>
<li>等宽分箱</li>
<li>等频分箱</li>
</ul>
</li>
<li>有监督分箱：需要结合预测标签的值，通过算法实现分箱<ul>
<li>决策树分箱</li>
<li>卡方分箱：关于卡方分箱的原理可以看参考【5】的博客</li>
</ul>
</li>
</ul>
<h2 id="拉普拉斯平滑"><a href="#拉普拉斯平滑" class="headerlink" title="拉普拉斯平滑"></a>拉普拉斯平滑</h2><p>计算要预测数据集的某个特征似然时，如果在观察样本库（训练集）中没有出现过，会导致类条件概率结果是0。在贝叶斯分类中如果乘以0的话，整个后验概率就会失去意义。</p>
<p>为了解决零概率的问题，法国数学家拉普拉斯最早提出用加1的方法估计没有出现过的现象的概率，所以加法平滑也叫做拉普拉斯平滑。假定训练样本很大时，每个分量x的计数加1造成的估计概率变化可以忽略不计，但可以方便有效的避免零概率问题。因此特征向量中某一个特征的类条件概率密度的计算公式可以改写为：<mjx-container class="MathJax" jax="SVG"><svg style="vertical-align: -1.309ex" xmlns="http://www.w3.org/2000/svg" width="29.146ex" height="3.748ex" role="img" focusable="false" viewBox="0 -1078.4 12882.5 1656.8"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z"></path></g><g data-mml-node="mo" transform="translate(503,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="msub" transform="translate(892,0)"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mi" transform="translate(605,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g></g><g data-mml-node="mo" transform="translate(1791,0) translate(0 -0.5)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="msub" transform="translate(2069,0)"><g data-mml-node="mi"><path data-c="1D714" d="M495 384Q495 406 514 424T555 443Q574 443 589 425T604 364Q604 334 592 278T555 155T483 38T377 -11Q297 -11 267 66Q266 68 260 61Q201 -11 125 -11Q15 -11 15 139Q15 230 56 325T123 434Q135 441 147 436Q160 429 160 418Q160 406 140 379T94 306T62 208Q61 202 61 187Q61 124 85 100T143 76Q201 76 245 129L253 137V156Q258 297 317 297Q348 297 348 261Q348 243 338 213T318 158L308 135Q309 133 310 129T318 115T334 97T358 83T393 76Q456 76 501 148T546 274Q546 305 533 325T508 357T495 384Z"></path></g><g data-mml-node="mi" transform="translate(655,-150) scale(0.707)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z"></path></g></g><g data-mml-node="mo" transform="translate(3065.3,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(3732.1,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mfrac" transform="translate(4787.8,0)"><g data-mml-node="mrow" transform="translate(220,548.1) scale(0.707)"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g><g data-mml-node="mi" transform="translate(469,0)"><path data-c="1D462" d="M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(1041,0)"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(1919,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(2308,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(2880,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="msub" transform="translate(3658,0)"><g data-mml-node="mi"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mi" transform="translate(605,-150) scale(0.707)"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g></g><g data-mml-node="mo" transform="translate(4557,0)"><path data-c="3B" d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z"></path></g><g data-mml-node="mi" transform="translate(4835,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g><g data-mml-node="mi" transform="translate(5364,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(5964,0)"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g><g data-mml-node="mo" transform="translate(6484,0)"><path data-c="3B" d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z"></path></g><g data-mml-node="mi" transform="translate(6762,0)"><path data-c="1D714" d="M495 384Q495 406 514 424T555 443Q574 443 589 425T604 364Q604 334 592 278T555 155T483 38T377 -11Q297 -11 267 66Q266 68 260 61Q201 -11 125 -11Q15 -11 15 139Q15 230 56 325T123 434Q135 441 147 436Q160 429 160 418Q160 406 140 379T94 306T62 208Q61 202 61 187Q61 124 85 100T143 76Q201 76 245 129L253 137V156Q258 297 317 297Q348 297 348 261Q348 243 338 213T318 158L308 135Q309 133 310 129T318 115T334 97T358 83T393 76Q456 76 501 148T546 274Q546 305 533 325T508 357T495 384Z"></path></g><g data-mml-node="mo" transform="translate(7384,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="msub" transform="translate(8162,0)"><g data-mml-node="mi"><path data-c="1D714" d="M495 384Q495 406 514 424T555 443Q574 443 589 425T604 364Q604 334 592 278T555 155T483 38T377 -11Q297 -11 267 66Q266 68 260 61Q201 -11 125 -11Q15 -11 15 139Q15 230 56 325T123 434Q135 441 147 436Q160 429 160 418Q160 406 140 379T94 306T62 208Q61 202 61 187Q61 124 85 100T143 76Q201 76 245 129L253 137V156Q258 297 317 297Q348 297 348 261Q348 243 338 213T318 158L308 135Q309 133 310 129T318 115T334 97T358 83T393 76Q456 76 501 148T546 274Q546 305 533 325T508 357T495 384Z"></path></g><g data-mml-node="mi" transform="translate(655,-150) scale(0.707)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z"></path></g></g><g data-mml-node="mo" transform="translate(9158.3,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(9547.3,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mn" transform="translate(10325.3,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g><g data-mml-node="mrow" transform="translate(675.7,-370.3) scale(0.707)"><g data-mml-node="mi"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z"></path></g><g data-mml-node="mi" transform="translate(469,0)"><path data-c="1D462" d="M21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(1041,0)"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(1919,0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(2308,0)"><path data-c="1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path></g><g data-mml-node="mo" transform="translate(2880,0)"><path data-c="3B" d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z"></path></g><g data-mml-node="mi" transform="translate(3158,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z"></path></g><g data-mml-node="mi" transform="translate(3687,0)"><path data-c="1D45B" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mi" transform="translate(4287,0)"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g><g data-mml-node="mo" transform="translate(4807,0)"><path data-c="3B" d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z"></path></g><g data-mml-node="mi" transform="translate(5085,0)"><path data-c="1D714" d="M495 384Q495 406 514 424T555 443Q574 443 589 425T604 364Q604 334 592 278T555 155T483 38T377 -11Q297 -11 267 66Q266 68 260 61Q201 -11 125 -11Q15 -11 15 139Q15 230 56 325T123 434Q135 441 147 436Q160 429 160 418Q160 406 140 379T94 306T62 208Q61 202 61 187Q61 124 85 100T143 76Q201 76 245 129L253 137V156Q258 297 317 297Q348 297 348 261Q348 243 338 213T318 158L308 135Q309 133 310 129T318 115T334 97T358 83T393 76Q456 76 501 148T546 274Q546 305 533 325T508 357T495 384Z"></path></g><g data-mml-node="mo" transform="translate(5707,0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="msub" transform="translate(6485,0)"><g data-mml-node="mi"><path data-c="1D714" d="M495 384Q495 406 514 424T555 443Q574 443 589 425T604 364Q604 334 592 278T555 155T483 38T377 -11Q297 -11 267 66Q266 68 260 61Q201 -11 125 -11Q15 -11 15 139Q15 230 56 325T123 434Q135 441 147 436Q160 429 160 418Q160 406 140 379T94 306T62 208Q61 202 61 187Q61 124 85 100T143 76Q201 76 245 129L253 137V156Q258 297 317 297Q348 297 348 261Q348 243 338 213T318 158L308 135Q309 133 310 129T318 115T334 97T358 83T393 76Q456 76 501 148T546 274Q546 305 533 325T508 357T495 384Z"></path></g><g data-mml-node="mi" transform="translate(655,-150) scale(0.707)"><path data-c="1D457" d="M297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376Z"></path></g></g><g data-mml-node="mo" transform="translate(7481.3,0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(7870.3,0)"><path data-c="2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path></g><g data-mml-node="mi" transform="translate(8648.3,0)"><path data-c="1D441" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g></g><rect width="7854.6" height="60" x="120" y="220"></rect></g></g></g></svg></mjx-container>。其中N表示特征xi有几种不同取值    </p>
<h1 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h1><h2 id="众数填充缺失值"><a href="#众数填充缺失值" class="headerlink" title="众数填充缺失值"></a>众数填充缺失值</h2><p>dataframe.isnull().any()返回一个Series，某行/列存在缺失值为True，axis=0表示跨行检测，即每一列跨行检测，返回一个与列等宽的Series</p>
<p>dataframe.fillna(value,inplace=True)表示用value填充DataFrame中NaN的数据，inplace=True表示填充内存中的DataFrame而不是副本。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 按照众数填充缺失值</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fillMissingColumn</span>(<span class="params">dataframe: pd.DataFrame</span>):</span></span><br><span class="line">    <span class="comment"># 检测出有缺失值的列，返回一个Series，有缺失值的列为True，无缺失值的列为False</span></span><br><span class="line">    missing_column = dataframe.isnull().<span class="built_in">any</span>(axis=<span class="number">0</span>)  <span class="comment"># 按列检测</span></span><br><span class="line">    <span class="keyword">for</span> index, value <span class="keyword">in</span> missing_column.items():</span><br><span class="line">        <span class="keyword">if</span> value:</span><br><span class="line">            <span class="built_in">print</span>(index + <span class="string">" needs to fill missing values"</span>)</span><br><span class="line">            <span class="comment"># 利用众数填充有缺失值的行</span></span><br><span class="line">            dataframe[index].fillna(dataframe[index].mode()[<span class="number">0</span>], inplace=<span class="literal">True</span>)  <span class="comment"># 一定要设置inplace=True 修改内存的值</span></span><br></pre></td></tr></table></figure>

<h2 id="处理分类数据"><a href="#处理分类数据" class="headerlink" title="处理分类数据"></a>处理分类数据</h2><p>将class(A,B,C,D,E)利用func函数映射到1-5。mapper定义了映射字典，将分类特征映射到对应的整数。最后利用dataframe.replace(dict)替换</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 处理nominal型的分类数据-industry：一共有14类 使用one-hot编码太大，还是采用简单编码</span></span><br><span class="line"><span class="comment"># 处理ordinary型的分类数据：employer_type class work_year</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">classifyOrdinary</span>(<span class="params">dataframe: pd.DataFrame</span>):</span></span><br><span class="line">    <span class="comment"># 创建class特征 映射器，将A-1,B-2...F-6</span></span><br><span class="line">    func = <span class="keyword">lambda</span> x: <span class="built_in">ord</span>(x) - <span class="number">64</span>  <span class="comment"># ord()将字母转变为ASCII码</span></span><br><span class="line">    <span class="comment"># 将class特征分类</span></span><br><span class="line">    dataframe[<span class="string">'class'</span>] = dataframe[<span class="string">'class'</span>].apply(func)</span><br><span class="line">    <span class="comment"># 创建编码映射器</span></span><br><span class="line">    mapper = {</span><br><span class="line">        <span class="string">'industry'</span>: {</span><br><span class="line">            <span class="string">'金融业'</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">'电力、热力生产供应业'</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="string">'公共服务、社会组织'</span>: <span class="number">2</span>,</span><br><span class="line">            <span class="string">'住宿和餐饮业'</span>: <span class="number">3</span>,</span><br><span class="line">            <span class="string">'信息传输、软件和信息技术服务业'</span>: <span class="number">4</span>,</span><br><span class="line">            <span class="string">'文化和体育业'</span>: <span class="number">5</span>,</span><br><span class="line">            <span class="string">'建筑业'</span>: <span class="number">6</span>,</span><br><span class="line">            <span class="string">'房地产业'</span>: <span class="number">7</span>,</span><br><span class="line">            <span class="string">'采矿业'</span>: <span class="number">8</span>,</span><br><span class="line">            <span class="string">'交通运输、仓储和邮政业'</span>: <span class="number">9</span>,</span><br><span class="line">            <span class="string">'农、林、牧、渔业'</span>: <span class="number">10</span>,</span><br><span class="line">            <span class="string">'制造业'</span>: <span class="number">11</span>,</span><br><span class="line">            <span class="string">'批发和零售业'</span>: <span class="number">12</span>,</span><br><span class="line">            <span class="string">'国际组织'</span>: <span class="number">13</span></span><br><span class="line">        },</span><br><span class="line">        <span class="string">'work_year'</span>: {</span><br><span class="line">            <span class="string">'&lt; 1 year'</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">'1 year'</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="string">'2 years'</span>: <span class="number">2</span>,</span><br><span class="line">            <span class="string">'3 years'</span>: <span class="number">3</span>,</span><br><span class="line">            <span class="string">'4 years'</span>: <span class="number">4</span>,</span><br><span class="line">            <span class="string">'5 years'</span>: <span class="number">5</span>,</span><br><span class="line">            <span class="string">'6 years'</span>: <span class="number">6</span>,</span><br><span class="line">            <span class="string">'7 years'</span>: <span class="number">7</span>,</span><br><span class="line">            <span class="string">'8 years'</span>: <span class="number">8</span>,</span><br><span class="line">            <span class="string">'9 years'</span>: <span class="number">9</span>,</span><br><span class="line">            <span class="string">'10+ years'</span>: <span class="number">10</span>,</span><br><span class="line">        },</span><br><span class="line">        <span class="string">'employer_type'</span>: {</span><br><span class="line">            <span class="string">'普通企业'</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="string">'幼教与中小学校'</span>: <span class="number">2</span>,</span><br><span class="line">            <span class="string">'政府机构'</span>: <span class="number">3</span>,</span><br><span class="line">            <span class="string">'上市企业'</span>: <span class="number">4</span>,</span><br><span class="line">            <span class="string">'高等教育机构'</span>: <span class="number">5</span>,</span><br><span class="line">            <span class="string">'世界五百强'</span>: <span class="number">6</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="comment"># 离散化</span></span><br><span class="line">    dataframe = dataframe.replace(mapper, inplace=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

<h2 id="离散化"><a href="#离散化" class="headerlink" title="离散化"></a>离散化</h2><p>​参考【4】中的博客，利用scorecardpy包先计算出分箱区间：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> scorecardpy <span class="keyword">as</span> sc</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 导入两列数据</span></span><br><span class="line">df = pd.DataFrame({<span class="string">'年龄'</span>: [<span class="number">29</span>,<span class="number">7</span>,<span class="number">49</span>,<span class="number">12</span>,<span class="number">50</span>,<span class="number">34</span>,<span class="number">36</span>,<span class="number">75</span>,<span class="number">61</span>,<span class="number">20</span>,<span class="number">3</span>,<span class="number">11</span>],</span><br><span class="line">                   <span class="string">'Y'</span>   : [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]})</span><br><span class="line"></span><br><span class="line">bins = sc.woebin(df, y=<span class="string">'Y'</span>, method=<span class="string">'chimerge'</span>)  <span class="comment"># 卡方分箱</span></span><br><span class="line">sc.woebin_plot(bins)</span><br></pre></td></tr></table></figure>

<p>使用**np.digitize(DataFrame,bin:list)**进行离散化</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">    连续的属性值无法计算似然（后验概率）！需要将其离散化——数据分箱</span></span><br><span class="line"><span class="string">    需要离散化的列有：total_loan、interest、monthly_payment、debt_loan_ratio、scoring_low、scoring_high、</span></span><br><span class="line"><span class="string">    recircle_b、recircle_u、early_return_amount_3mon、early_return_amount、title</span></span><br><span class="line"><span class="string">    参考博客：https://blog.csdn.net/Orange_Spotty_Cat/article/details/116485079</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">discretize</span>(<span class="params">dataframe</span>):</span></span><br><span class="line">    <span class="comment"># 使用分箱技术</span></span><br><span class="line">    dataframe[<span class="string">'total_loan'</span>] = np.digitize(dataframe[<span class="string">'total_loan'</span>], bins=[<span class="number">8000</span>, <span class="number">21000</span>, <span class="number">24000</span>, <span class="number">31000</span>])</span><br><span class="line">    <span class="comment"># dataframe['interest'] = np.digitize(dataframe['interest'], bins=range(5, 36, 1))  # 4.779-33.979</span></span><br><span class="line">    dataframe[<span class="string">'interest'</span>] = np.digitize(dataframe[<span class="string">'interest'</span>], bins=[<span class="number">7</span>, <span class="number">9</span>, <span class="number">10</span>, <span class="number">12</span>, <span class="number">16</span>, <span class="number">21</span>])</span><br><span class="line">    <span class="comment"># dataframe['monthly_payment'] = np.digitize(dataframe['monthly_payment'], bins=range(100, 2000, 100))  # 30.44-1503.89</span></span><br><span class="line">    dataframe[<span class="string">'monthly_payment'</span>] = np.digitize(dataframe[<span class="string">'monthly_payment'</span>], bins=[<span class="number">250</span>, <span class="number">500</span>])</span><br><span class="line">    <span class="comment"># dataframe['debt_loan_ratio'] = np.digitize(dataframe['debt_loan_ratio'], bins=range(10, 1000, 10))  # 0-999</span></span><br><span class="line">    dataframe[<span class="string">'debt_loan_ratio'</span>] = np.digitize(dataframe[<span class="string">'debt_loan_ratio'</span>], bins=[<span class="number">11</span>, <span class="number">15</span>, <span class="number">26</span>])</span><br><span class="line">    <span class="comment"># dataframe['scoring_low'] = np.digitize(dataframe['scoring_low'], bins=range(10, 1000, 10))  # 540-910.9</span></span><br><span class="line">    dataframe[<span class="string">'scoring_low'</span>] = np.digitize(dataframe[<span class="string">'scoring_low'</span>], bins=[<span class="number">560</span>, <span class="number">600</span>, <span class="number">630</span>, <span class="number">660</span>, <span class="number">680</span>, <span class="number">780</span>])</span><br><span class="line">    <span class="comment"># dataframe['scoring_high'] = np.digitize(dataframe['scoring_high'], bins=range(10, 2000, 10))  # 585.0-1131.818182</span></span><br><span class="line">    dataframe[<span class="string">'scoring_high'</span>] = np.digitize(dataframe[<span class="string">'scoring_high'</span>], bins=[<span class="number">730</span>, <span class="number">750</span>, <span class="number">860</span>])</span><br><span class="line">    <span class="comment"># dataframe['recircle_b'] = np.digitize(dataframe['recircle_b'], bins=range(10000, 770000, 10000))  # 0.0-779021.0</span></span><br><span class="line">    dataframe[<span class="string">'recircle_b'</span>] = np.digitize(dataframe[<span class="string">'recircle_b'</span>], bins=[<span class="number">16000</span>])</span><br><span class="line">    <span class="comment"># dataframe['recircle_u'] = np.digitize(dataframe['recircle_u'], bins=range(1, 120, 1))  # 0.0-120.6153846</span></span><br><span class="line">    dataframe[<span class="string">'recircle_u'</span>] = np.digitize(dataframe[<span class="string">'recircle_u'</span>], bins=[<span class="number">38</span>, <span class="number">56</span>, <span class="number">66</span>, <span class="number">70</span>])</span><br><span class="line">    <span class="comment"># dataframe['early_return_amount_3mon'] = np.digitize(dataframe['early_return_amount_3mon'],bins=range(1, 5500, 10))  # 0.0-5523.9</span></span><br><span class="line">    dataframe[<span class="string">'early_return_amount_3mon'</span>] = np.digitize(dataframe[<span class="string">'early_return_amount_3mon'</span>], bins=[<span class="number">50</span>, <span class="number">150</span>, <span class="number">1250</span>])</span><br><span class="line"></span><br><span class="line">    dataframe[<span class="string">'title'</span>] = np.digitize(dataframe[<span class="string">'title'</span>], bins=[<span class="number">1</span>])</span><br><span class="line">    dataframe[<span class="string">'early_return_amount'</span>] = np.digitize(dataframe[<span class="string">'early_return_amount'</span>], bins=[<span class="number">5000</span>,<span class="number">10000</span>,<span class="number">15000</span>,<span class="number">20000</span>])</span><br></pre></td></tr></table></figure>

<h2 id="构造分类器"><a href="#构造分类器" class="headerlink" title="构造分类器"></a>构造分类器</h2><p><strong>为了避免大量重复的计算类条件概率</strong>（有很多特征取值相同，计算的类条件概率也是重复的），先用两个numpy的二维数据(利用下标访问)存储所有可能特征值的类条件概率。计算出还剩下29个特征，经过离散化后每个特征的取值类型在100种以内。初始化为0。</p>
<p>​train.columns.get_loc(columns_label)用于返回某个列名的列索引值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">    朴素贝叶斯分类，假设每个字段之间相互独立：</span></span><br><span class="line"><span class="string">        小数的连乘可能下溢，因此对p(x|w)*p(w)取对数 </span></span><br><span class="line"><span class="string">        为了防止零概率情况使log无意义，使用拉普拉斯平滑技术</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    定义一个分类器 g(x) = lnp(x|w)+lnp(w)</span></span><br><span class="line"><span class="string">        输入一个特征向量x与一个数据集，输出它的分类</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="comment"># 创建两个dataframe分别缓存isDefault=0与isDefault=1的似然值</span></span><br><span class="line">storeage0 = np.zeros((<span class="number">29</span>,<span class="number">100</span>))</span><br><span class="line">storeage1 = np.zeros((<span class="number">29</span>,<span class="number">100</span>))</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">classifier</span>(<span class="params">x, train: pd.DataFrame</span>):</span></span><br><span class="line">    <span class="comment"># 分别统计贷款没违约与贷款违约的情况</span></span><br><span class="line">    type0 = train[train[<span class="string">'isDefault'</span>] == <span class="number">0</span>]</span><br><span class="line">    type1 = train[train[<span class="string">'isDefault'</span>] == <span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 计算行数</span></span><br><span class="line">    sum_type0 = type0.count().values[<span class="number">0</span>]</span><br><span class="line">    sum_type1 = type1.count().values[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 计算先验概率</span></span><br><span class="line">    prior_0 = sum_type0 / (sum_type0 + sum_type1)</span><br><span class="line">    prior_1 = sum_type1 / (sum_type0 + sum_type1)</span><br><span class="line">    <span class="comment"># print(str(prior_0) + " " + str(prior_1))</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 初始化分类器值(加上lnp(w))</span></span><br><span class="line">    g0 = math.log(prior_0)</span><br><span class="line">    g1 = math.log(prior_1)</span><br><span class="line">    <span class="comment"># print(str(g0) + " " + str(g1))</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 计算所有列的似然/类条件概率密度</span></span><br><span class="line">    <span class="keyword">for</span> column <span class="keyword">in</span> train.columns:</span><br><span class="line">        <span class="keyword">if</span> column != <span class="string">'isDefault'</span>:  <span class="comment"># 去除预测标签的影响</span></span><br><span class="line">            likelihood0, likelihood1 = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> storeage0[train.columns.get_loc(column)][<span class="built_in">int</span>(x[column])] &gt; <span class="number">0</span>:</span><br><span class="line">                <span class="comment"># 缓存中已有数据</span></span><br><span class="line">                likelihood0 = storeage0[train.columns.get_loc(column)][<span class="built_in">int</span>(x[column])]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># 计算拉普拉斯平滑后的似然</span></span><br><span class="line">                likelihood0 = (type0[type0[column] == x[column]].count().values[<span class="number">0</span>] + <span class="number">1</span>) / (</span><br><span class="line">                        sum_type0 + train[column].nunique())</span><br><span class="line">                <span class="comment"># 按照行-列索引，列—特征值 将数据保存在缓存中</span></span><br><span class="line">                storeage0[train.columns.get_loc(column)][<span class="built_in">int</span>(x[column])] = likelihood0</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 对 isDefault = 1的训练集数据进行一次同样的操作，计算后验概率</span></span><br><span class="line">            <span class="keyword">if</span> storeage1[train.columns.get_loc(column)][<span class="built_in">int</span>(x[column])] &gt; <span class="number">0</span>:</span><br><span class="line">                likelihood1 = storeage1[train.columns.get_loc(column)][<span class="built_in">int</span>(x[column])]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                likelihood1 = (type1[type1[column] == x[column]].count().values[<span class="number">0</span>] + <span class="number">1</span>) / (</span><br><span class="line">                        sum_type1 + train[column].nunique())</span><br><span class="line">                storeage1[train.columns.get_loc(column)][<span class="built_in">int</span>(x[column])] = likelihood1</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 取对数</span></span><br><span class="line">            ln_likelihood0 = math.log(likelihood0)</span><br><span class="line">            ln_likelihood1 = math.log(likelihood1)</span><br><span class="line">            <span class="comment"># print("type0: likelihood: " + str(likelihood0) + " ln:" + str(ln_likelihood0))</span></span><br><span class="line">            <span class="comment"># print("type1: likelihood: " + str(likelihood1) + " ln:" + str(ln_likelihood1))</span></span><br><span class="line"></span><br><span class="line">            g0 += ln_likelihood0</span><br><span class="line">            g1 += ln_likelihood1</span><br><span class="line">            <span class="comment"># print('------------------------------------------------------------------')</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># print(str(g0) + " " + str(g1))</span></span><br><span class="line">    <span class="keyword">if</span> g0 &gt;= g1:</span><br><span class="line">        <span class="comment"># 预测为不违约</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h2 id="主函数与评估模型"><a href="#主函数与评估模型" class="headerlink" title="主函数与评估模型"></a>主函数与评估模型</h2><p>​假设<strong>贷款不违约(isDefault=0)为正例，贷款违约(isDefault=1)为负例</strong>。利用正确率、精度、召回率评估模型。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 读取训练集</span></span><br><span class="line">trainSet = pd.read_csv(<span class="string">'train.csv'</span>)</span><br><span class="line"><span class="comment"># 读取测试集</span></span><br><span class="line">testSet = pd.read_csv(<span class="string">'test.csv'</span>)</span><br><span class="line"><span class="comment"># 删除无关数据列（用户的id，贷款年份(year_of_loan)、贷款发放的月份(issue_date)、借款人最早报告的信用额度开立的月份(earlies_credit_mon)、贷款人申请时邮政编码(post_code)、地区编码(region)等信息，主观判断其对是否违约影响甚微。都是无关属性）</span></span><br><span class="line">trainSet = trainSet.drop(</span><br><span class="line">    [<span class="string">'year_of_loan'</span>, <span class="string">'loan_id'</span>, <span class="string">'user_id'</span>, <span class="string">'earlies_credit_mon'</span>, <span class="string">'issue_date'</span>, <span class="string">'post_code'</span>, <span class="string">'region'</span>], axis=<span class="number">1</span>)</span><br><span class="line">testSet = testSet.drop(</span><br><span class="line">    [<span class="string">'year_of_loan'</span>, <span class="string">'loan_id'</span>, <span class="string">'user_id'</span>, <span class="string">'earlies_credit_mon'</span>, <span class="string">'issue_date'</span>, <span class="string">'post_code'</span>, <span class="string">'region'</span>], axis=<span class="number">1</span>)</span><br><span class="line"><span class="comment"># 画出频率分布直方图分析数据</span></span><br><span class="line">fig,axs=plt.subplots(<span class="number">8</span>,<span class="number">4</span>,figsize=(<span class="number">40</span>,<span class="number">20</span>),sharex=<span class="literal">False</span>,sharey=<span class="literal">False</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4</span>):</span><br><span class="line">        <span class="keyword">if</span> i*<span class="number">4</span>+j&lt;<span class="number">31</span>:</span><br><span class="line">            axs[i][j].set_title(trainSet.columns[i*<span class="number">4</span>+j])</span><br><span class="line">            axs[i][j].bar(x=pd.value_counts(trainSet[trainSet.columns[i*<span class="number">4</span>+j]]).index,height=pd.value_counts(trainSet[trainSet.columns[i*<span class="number">4</span>+j]]).values)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 而app_type policy_code 与 f1都是归一化属性，直接去除</span></span><br><span class="line">trainSet = trainSet.drop([<span class="string">'app_type'</span>, <span class="string">'policy_code'</span>, <span class="string">'f1'</span>], axis=<span class="number">1</span>)</span><br><span class="line">testSet = testSet.drop([<span class="string">'app_type'</span>, <span class="string">'policy_code'</span>, <span class="string">'f1'</span>], axis=<span class="number">1</span>)</span><br><span class="line"><span class="comment"># 数据预处理</span></span><br><span class="line">fillMissingColumn(trainSet)</span><br><span class="line">classifyOrdinary(trainSet)</span><br><span class="line">discretize(trainSet)</span><br><span class="line"></span><br><span class="line">fillMissingColumn(testSet)</span><br><span class="line">classifyOrdinary(testSet)</span><br><span class="line">discretize(testSet)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 保存分类器的分类结果</span></span><br><span class="line">isDefault_f = []</span><br><span class="line"><span class="keyword">for</span> index, row <span class="keyword">in</span> testSet.iterrows():</span><br><span class="line">    isDefault_f.append(classifier(row, trainSet))</span><br><span class="line"><span class="comment"># 将分类结果添加到测试集中</span></span><br><span class="line">testSet[<span class="string">'forecast'</span>] = isDefault_f</span><br><span class="line"><span class="comment"># 创建评估数据集</span></span><br><span class="line">evaluation = testSet[[<span class="string">'isDefault'</span>, <span class="string">'forecast'</span>]]</span><br><span class="line"><span class="built_in">print</span>(evaluation)</span><br><span class="line"><span class="comment"># 假设 没有违约（isDefault == 0）为正例</span></span><br><span class="line">TP = <span class="number">0</span>  <span class="comment"># 真正例</span></span><br><span class="line">TN = <span class="number">0</span>  <span class="comment"># 真负例</span></span><br><span class="line">FP = <span class="number">0</span>  <span class="comment"># 假正例</span></span><br><span class="line">FN = <span class="number">0</span>  <span class="comment"># 假负例</span></span><br><span class="line"><span class="keyword">for</span> index, row <span class="keyword">in</span> evaluation.iterrows():</span><br><span class="line">    <span class="keyword">if</span> row[<span class="string">'isDefault'</span>] == <span class="number">0</span> <span class="keyword">and</span> row[<span class="string">'forecast'</span>] == <span class="number">0</span>:</span><br><span class="line">        TP += <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> row[<span class="string">'isDefault'</span>] == <span class="number">0</span> <span class="keyword">and</span> row[<span class="string">'forecast'</span>] == <span class="number">1</span>:</span><br><span class="line">        FN += <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> row[<span class="string">'isDefault'</span>] == <span class="number">1</span> <span class="keyword">and</span> row[<span class="string">'forecast'</span>] == <span class="number">0</span>:</span><br><span class="line">        FP += <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> row[<span class="string">'isDefault'</span>] == <span class="number">1</span> <span class="keyword">and</span> row[<span class="string">'forecast'</span>] == <span class="number">1</span>:</span><br><span class="line">        TN += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">Accuracy = (TP + TN) / (TP + TN + FP + FN)</span><br><span class="line">Precision = TP / (TP + FP)</span><br><span class="line">Recall = TP / (TP + FN)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"正确率: %f"</span> % Accuracy)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"精确率: %f"</span> % Precision)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">"召回率: %f"</span> % Recall)</span><br></pre></td></tr></table></figure>

<h1 id="实验结果"><a href="#实验结果" class="headerlink" title="实验结果"></a>实验结果</h1><p>​    测试集共有1000行数据，forecast为我们预测的数据。正确率还有待改进。</p>
<img lazyload="" src="/images/loading.svg" data-src="/2022/01/10/%E5%AE%9E%E9%AA%8C%EF%BC%9A%E8%B4%9D%E5%8F%B6%E6%96%AF%E5%86%B3%E7%AD%96%E8%AE%BA%E9%A2%84%E6%B5%8B%E8%B4%B7%E6%AC%BE%E6%98%AF%E5%90%A6%E8%BF%9D%E7%BA%A6/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAU3VuYnVyc3Q3,size_8,color_FFFFFF,t_70,g_se,x_16.png" class="" title="img">


<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p>【1】<a class="link" target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44064888/article/details/100183425">(3条消息) Lending Club贷款违约预测_Mango的博客-CSDN博客<i class="fas fa-external-link-alt"></i></a></p>
<p>【2】机器学习—周志华</p>
<p>【3】Python机器学习手册：从数据预处理到深度学习</p>
<p>【4】<a class="link" target="_blank" rel="noopener" href="https://blog.csdn.net/Orange_Spotty_Cat/article/details/116485079">数据科学猫：数据预处理 之 数据分箱(Binning)_Orange_Spotty_Cat的博客-CSDN博客<i class="fas fa-external-link-alt"></i></a></p>
<p>【5】<a class="link" target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1418720">从论文分析，告诉你什么叫 “卡方分箱”？ - 云+社区 - 腾讯云 (tencent.com)<i class="fas fa-external-link-alt"></i></a></p>

        </div>

        
            <div class="post-copyright-info">
                <div class="article-copyright-info-container">
    <ul>
        <li>Post title：实验：贝叶斯决策论预测贷款是否违约</li>
        <li>Post author：Sunburst7</li>
        <li>Create time：2022-01-10 23:21:09</li>
        <li>
            Post link：https://sunburst7.github.io/2022/01/10/实验：贝叶斯决策论预测贷款是否违约/
        </li>
        <li>
            Copyright Notice：All articles in this blog are licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> unless stating additionally.
        </li>
    </ul>
</div>

            </div>
        

        
            <ul class="post-tags-box">
                
                    <li class="tag-item">
                        <a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">#机器学习</a>&nbsp;
                    </li>
                
                    <li class="tag-item">
                        <a href="/tags/python/">#python</a>&nbsp;
                    </li>
                
            </ul>
        

        
            <div class="article-nav">
                
                    <div class="article-prev">
                        <a class="prev"
                           rel="prev"
                           href="/2022/01/10/%E5%AE%9E%E9%AA%8C%EF%BC%9A%E5%8F%82%E6%95%B0%E4%BC%B0%E8%AE%A1%E4%B8%8E%E9%9D%9E%E5%8F%82%E6%95%B0%E4%BC%B0%E8%AE%A1/"
                        >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                            <span class="title flex-center">
                                <span class="post-nav-title-item">实验：参数估计与非参数估计</span>
                                <span class="post-nav-item">Prev posts</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next">
                        <a class="next"
                           rel="next"
                           href="/2022/01/10/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/"
                        >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">神经网络</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                            <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        

        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
              <span>2021</span>
              -
            
            2022&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">Sunburst7</a>
        </div>
        
            <script async  src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    <span id="busuanzi_container_site_uv">
                        Visitor Count&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp;
                    </span>
                
                
                    <span id="busuanzi_container_site_pv">
                        Totalview&nbsp;<span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="theme-info info-item">
            Powered by <a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;|&nbsp;Theme&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.5</a>
        </div>
        
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item page-aside-toggle">
                <i class="fas fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="fas fa-arrow-up"></i>
            </li>
        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
    </ul>
</div>

    </div>

    
        <aside class="page-aside">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%9E%E9%AA%8C%E8%AF%B4%E6%98%8E"><span class="nav-text">实验说明</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%83%8C%E6%99%AF"><span class="nav-text">背景</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9E%E9%AA%8C%E6%95%B0%E6%8D%AE%E8%AF%B4%E6%98%8E"><span class="nav-text">实验数据说明</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9E%E9%AA%8C%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="nav-text">实验注意事项</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%9E%E9%AA%8C%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90"><span class="nav-text">实验数据分析</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%9E%E9%AA%8C%E5%8E%9F%E7%90%86"><span class="nav-text">实验原理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%BB%E8%A6%81%E5%8E%9F%E7%90%86"><span class="nav-text">主要原理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-%E5%A4%84%E7%90%86%E5%88%86%E7%B1%BB%E6%95%B0%E6%8D%AE"><span class="nav-text">3.2 处理分类数据</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E7%A6%BB%E6%95%A3%E5%8C%96"><span class="nav-text">数据离散化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8B%89%E6%99%AE%E6%8B%89%E6%96%AF%E5%B9%B3%E6%BB%91"><span class="nav-text">拉普拉斯平滑</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="nav-text">代码实现</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BC%97%E6%95%B0%E5%A1%AB%E5%85%85%E7%BC%BA%E5%A4%B1%E5%80%BC"><span class="nav-text">众数填充缺失值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%A4%84%E7%90%86%E5%88%86%E7%B1%BB%E6%95%B0%E6%8D%AE"><span class="nav-text">处理分类数据</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%A6%BB%E6%95%A3%E5%8C%96"><span class="nav-text">离散化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9E%84%E9%80%A0%E5%88%86%E7%B1%BB%E5%99%A8"><span class="nav-text">构造分类器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%BB%E5%87%BD%E6%95%B0%E4%B8%8E%E8%AF%84%E4%BC%B0%E6%A8%A1%E5%9E%8B"><span class="nav-text">主函数与评估模型</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%9E%E9%AA%8C%E7%BB%93%E6%9E%9C"><span class="nav-text">实验结果</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8F%82%E8%80%83"><span class="nav-text">参考</span></a></li></ol>
    </div>
</div>
        </aside>
    

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="Search..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>



<script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/dark-light-toggle.js"></script>


    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/local-search.js"></script>



    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/code-copy.js"></script>



    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/lazyload.js"></script>


<div class="post-scripts">
    
        <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/left-side-toggle.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/libs/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/toc.js"></script>
    
</div>



</body>
</html>
