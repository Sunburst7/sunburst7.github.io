import{_ as n,b as s}from"./app.5dfdbb42.js";const a={},p=s(`<p>\u6570\u5B57\u8F93\u5165\u6846\u7EC4\u4EF6\u7684\u7279\u70B9\u662F\uFF1A</p><ol><li>\u7528\u6237\u53EA\u80FD\u8F93\u5165\u6570\u5B57\uFF0C\u8F93\u5165\u5176\u4ED6\u7C7B\u578B\u7684\u503C\u4F1A\u88AB\u8F6C\u5316\u4E3A\u4E00\u4E2A\u6570\u5B57\u3002</li><li>\u6570\u5B57\u8F93\u5165\u6846\u5DE6\u53F3\u4FA7\u6709\u4E24\u4E2A\u6309\u94AE\u53EF\u4EE5\u8C03\u8282\u6570\u5B57\uFF0C\u53EF\u4EE5\u8BBE\u7F6E\u8C03\u8282\u7684\u6B65\u957F</li><li>\u6570\u5B57\u8F93\u5165\u6846\u6709\u6700\u5927\u503C\u4E0E\u6700\u5C0F\u503C\u9650\u5236\uFF0C\u8D85\u8FC7\u8FD9\u4E2A\u503C\u7684\u6570\u5B57\u4E0D\u5141\u8BB8\u88AB\u8F93\u5165</li></ol><p>\u56E0\u6B64\u6839\u636E\u8FD9\u4E9B\u7279\u70B9\uFF0C\u8BE5\u7EC4\u4EF6\u9700\u8981\u6709\u7684\u5C5E\u6027\u4E0E\u4E8B\u4EF6\u6709\uFF1A</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> numberInputProps <span class="token operator">=</span> <span class="token punctuation">{</span>
    step<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> Number<span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    max<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> Number<span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">Infinity</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    min<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> Number<span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">Infinity</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    modelValue<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> Number<span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    disabled<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> Boolean<span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    size<span class="token operator">:</span> <span class="token punctuation">{</span>
        type<span class="token operator">:</span> String<span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&#39;default&#39;</span><span class="token punctuation">,</span>
        <span class="token function">validator</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> componentSizes<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    name<span class="token operator">:</span> String<span class="token punctuation">,</span>
    label<span class="token operator">:</span> String<span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> numberInputEmits <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">change</span><span class="token operator">:</span> <span class="token punctuation">(</span>cur<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>prev<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">isNumber</span><span class="token punctuation">(</span>prev<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isNumber</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function-variable function">blur</span><span class="token operator">:</span> <span class="token punctuation">(</span>e<span class="token operator">:</span> FocusEvent<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> e <span class="token keyword">instanceof</span> <span class="token class-name">FocusEvent</span><span class="token punctuation">,</span>
    <span class="token function-variable function">focus</span><span class="token operator">:</span> <span class="token punctuation">(</span>e<span class="token operator">:</span> FocusEvent<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> e <span class="token keyword">instanceof</span> <span class="token class-name">FocusEvent</span><span class="token punctuation">,</span>
    <span class="token function-variable function">input</span><span class="token operator">:</span> <span class="token punctuation">(</span>val<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">isNumber</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;update:modelValue&#39;</span><span class="token operator">:</span> <span class="token punctuation">(</span>val<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
      <span class="token function">isNumber</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token operator">||</span> val <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><p><code>numberInputEmits</code>\u662F\u8BE5\u7EC4\u4EF6\u7684\u4E8B\u4EF6\u7684\u9A8C\u8BC1\u51FD\u6570\uFF0C\u53EA\u6709\u51FD\u6570\u8FD4\u56DEtrue\uFF0C\u5916\u5C42\u7ED1\u5B9A\u7684\u56DE\u8C03\u51FD\u6570\u624D\u4F1A\u89E6\u53D1\u3002\u7EC4\u4EF6\u7684\u6700\u5916\u5C42\u7528\u4E00\u4E2Adiv\u5305\u88F9\uFF0C\u5185\u90E8\u5DE6\u53F3\u4E24\u4FA7\u5404\u4E00\u4E2A\u6309\u94AE\uFF0C\u4E2D\u95F4\u662F\u4E00\u4E2A\u8F93\u5165\u6846\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- div \u6CA1\u6709\u7981\u7528\u5C5E\u6027 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span>
      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>scene-number-input-default<span class="token punctuation">&#39;</span></span>
      <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>[
        \`scene-number-input-\${size}\`
      ]<span class="token punctuation">&#39;</span></span>
    <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">:disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>disabled<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scene-number-input-button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>decrease<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>-<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> 
            <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>text<span class="token punctuation">&#39;</span></span>
            <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>input<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>name<span class="token punctuation">&#39;</span></span>
            <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>modelValue<span class="token punctuation">&#39;</span></span>
            <span class="token attr-name">:label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>label<span class="token punctuation">&#39;</span></span>
            <span class="token attr-name">:disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>disabled<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scene-number-input-input<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">@blur</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleBlur<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">@focus</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleFocus<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">@input</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleInput<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">@change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleInputChange<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">:disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>disabled<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>scene-number-input-button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>increase<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>\u63A5\u4E0B\u6765\u91CD\u70B9\u5206\u6790JS\u90E8\u5206\uFF1A</p><p>input\u53D8\u91CF\u5B9A\u4E49\u4E86<code>&lt;input&gt;</code>\u7EC4\u4EF6\u7684\u6A21\u677F\u5F15\u7528\uFF0ChandleFocus/handleBlur\u5B9A\u4E49\u4E86\u5F53\u8F93\u5165\u6846\u83B7\u5F97/\u5931\u53BB\u7126\u70B9\u65F6\uFF0C\u89E6\u53D1\u5916\u5C42\u7EC4\u4EF6\u7ED1\u5B9A\u7684@focus/@blur\u4E8B\u4EF6\u7684\u56DE\u8C03\u51FD\u6570\uFF0C\u53C2\u6570\u662Fevent\u3002focus\u4E0Eblur\u7528\u4E8E\u7528\u5728\u5916\u5C42\u8C03\u7528\u4F7F\u5F97\u8F93\u5165\u6846\u83B7\u5F97/\u5931\u53BB\u7126\u70B9\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span><span class="token punctuation">{</span>emit<span class="token punctuation">,</span>attrs<span class="token punctuation">,</span>slots<span class="token punctuation">,</span>expose<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> input <span class="token operator">=</span> ref<span class="token operator">&lt;</span>HTMLInputElement<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// \u89E6\u53D1\u5916\u5C42\u7ED1\u5B9AFocus\u4E8B\u4EF6</span>
    <span class="token keyword">const</span> <span class="token function-variable function">handleFocus</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">event</span><span class="token operator">:</span> MouseEvent</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;focus&#39;</span><span class="token punctuation">,</span> event<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// \u89E6\u53D1\u5916\u5C42\u7ED1\u5B9ABlur\u4E8B\u4EF6</span>
    <span class="token keyword">const</span> <span class="token function-variable function">handleBlur</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">event</span><span class="token operator">:</span> MouseEvent</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;blur&#39;</span><span class="token punctuation">,</span> event<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// \u66B4\u6F0F\u5916\u90E8\u7684\u65B9\u6CD5</span>
    <span class="token keyword">const</span> <span class="token function-variable function">focus</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      input<span class="token punctuation">.</span>value<span class="token operator">?.</span>focus<span class="token operator">?.</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> <span class="token function-variable function">blur</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      input<span class="token punctuation">.</span>value<span class="token operator">?.</span>blur<span class="token operator">?.</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">return</span><span class="token punctuation">{</span>
        input<span class="token punctuation">,</span>
        handleFocus<span class="token punctuation">,</span>
        handleBlur<span class="token punctuation">,</span>
        focus<span class="token punctuation">,</span>
        blur<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>\u5B9A\u4E49\u4E00\u4E2A\u54CD\u5E94\u6027\u5BF9\u8C61\uFF0C\u4FDD\u5B58\u5F53\u524D\u8F93\u5165\u6846\u503C\u4E0E\u7528\u6237\u8F93\u5165\u503C\uFF1A</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// \u4FDD\u5B58\u6539\u53D8\u65F6\u7684\u65B0\u503C\u4E0E\u65E7\u503C\uFF0C\u65E7\u503C\u53EA\u6709\u5728\u7528\u6237\u8F93\u5165\u65F6\u624D\u4FDD\u5B58</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token generic-function"><span class="token function">reactive</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token punctuation">{</span>
        currentValue<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span>
        userInput<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        currentValue<span class="token operator">:</span> props<span class="token punctuation">.</span>modelValue<span class="token punctuation">,</span>
        userInput<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>\u5F53\u7528\u6237\u8F93\u5165\u65F6\uFF0C\u89E6\u53D1input\u7684@input=&quot;handleInput&quot;\uFF0C\u4FDD\u5B58\u7528\u6237\u8F93\u5165\u503C\u5230userInput\u4E2D\uFF0C\u5982\u679C\u7528\u6237\u8F93\u5165\u7684\u4E0D\u662F\u6570\u5B57\uFF0C\u5219\u81EA\u52A8\u8F6C\u4E3A0\uFF1A</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// \u8F93\u5165\u4E8B\u4EF6\uFF0C\u7528\u4E8E\u4FDD\u5B58\u7528\u6237\u8F93\u5165\u7684\u503C</span>
    <span class="token keyword">const</span> <span class="token function-variable function">handleInput</span> <span class="token operator">=</span> <span class="token punctuation">(</span>event<span class="token operator">:</span> InputEvent<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">let</span> inputVal <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token comment">// \u5C1D\u8BD5\u5C06\u8F93\u5165\u7684\u503C\u8F6C\u4E3ANumber</span>
            data<span class="token punctuation">.</span>userInput  <span class="token operator">=</span> <span class="token function">isNaN</span><span class="token punctuation">(</span>inputVal<span class="token punctuation">)</span><span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> inputVal
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span><span class="token punctuation">{</span>
            data<span class="token punctuation">.</span>userInput <span class="token operator">=</span> <span class="token number">0</span>                  <span class="token comment">// \u7528\u6237\u8F93\u5165\u7684\u503C\u4E3A\u7A7A\uFF0C\u81EA\u52A8\u8BBE\u4E3A\u9ED8\u8BA4\u503C0</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// \u540C\u65F6\u4E5F\u4F1A\u89E6\u53D1handleInputChange\u51FD\u6570</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>\u540C\u65F6\u7531\u4E8Ev-model\u6539\u53D8\u4E5F\u4F1A\u89E6\u53D1@change\u4E8B\u4EF6\u7684\u56DE\u8C03\u51FD\u6570handleInputChange\uFF1A</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// \u7528\u6237\u624B\u52A8\u8F93\u5165\u65F6\uFF0C\u89E6\u53D1\u5916\u5C42\u7ED1\u5B9A\u7684Change\u4E8B\u4EF6</span>
    <span class="token keyword">const</span> <span class="token function-variable function">handleInputChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span>event<span class="token operator">:</span> Event<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> newVal <span class="token operator">=</span> data<span class="token punctuation">.</span>userInput
        <span class="token comment">// \u867D\u7136newValue\u4E0D\u53EF\u80FD\u4E3Anull\uFF0C\u4F46\u662FnewValue\u7684\u7C7B\u578B\u662Fnumber | null\uFF0C\u8981\u52A0\u4E0A\u76F8\u5E94\u7684\u63A7\u5236</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token function">isNumber</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>Number<span class="token punctuation">.</span><span class="token function">isNaN</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> newVal <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">setCurrentValue</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        data<span class="token punctuation">.</span>userInput <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>\u91CD\u70B9\u5206\u6790<code>setCurrentValue</code>\u65B9\u6CD5\uFF0C\u8BE5\u65B9\u6CD5\u7528\u4E8E\u6539\u53D8v-model\u53CC\u5411\u7ED1\u5B9A\u7684\u503C\u4EE5\u53CAdata.currentValue\uFF1A</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> instance <span class="token operator">=</span> <span class="token function">getCurrentInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//\u8BBF\u95EE\u5185\u90E8\u7EC4\u4EF6\u5B9E\u4F8B   </span>

<span class="token comment">//\u6539\u53D8\u5F53\u524D\u7ED1\u5B9A\u7684\u503C\u7684\u65B9\u6CD5,newVal\u4E3A\u65B0\u7684\u503C\uFF0C\u5728\u70B9\u51FB-\u6216+\u6309\u94AE\u65F6 \u4EE5\u53CA\u7528\u6237\u624B\u52A8\u8F93\u5165\u65F6\u89E6\u53D1</span>
<span class="token keyword">const</span> <span class="token function-variable function">setCurrentValue</span> <span class="token operator">=</span> <span class="token punctuation">(</span>newVal<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> oldVal <span class="token operator">=</span> props<span class="token punctuation">.</span>modelValue
    <span class="token keyword">if</span> <span class="token punctuation">(</span>newVal <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token operator">&amp;&amp;</span> newVal <span class="token operator">&gt;=</span> props<span class="token punctuation">.</span>max<span class="token punctuation">)</span> newVal <span class="token operator">=</span> props<span class="token punctuation">.</span>max <span class="token comment">//\u4E0D\u8D85\u8FC7\u6700\u5927\u503C</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>newVal <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token operator">&amp;&amp;</span> newVal <span class="token operator">&lt;=</span> props<span class="token punctuation">.</span>min<span class="token punctuation">)</span> newVal <span class="token operator">=</span> props<span class="token punctuation">.</span>min <span class="token comment">//\u4E0D\u8D85\u8FC7\u6700\u5C0F\u503C</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>oldVal <span class="token operator">===</span> newVal<span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token comment">//\u8FDE\u7EED\u4E24\u6B21\u51FA\u9519\u5E94\u8BE5\u5982\u4F55\u91CD\u65B0\u6E32\u67D3\u9875\u9762\uFF1F \u5916\u5C42v-model\u7ED1\u5B9A\u7684\u503C\u6CA1\u6709\u4FEE\u6539 \u6CA1\u6CD5\u89E6\u53D1\u6E32\u67D3</span>
        instance<span class="token operator">?.</span>proxy<span class="token operator">?.</span><span class="token function">$forceUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// \u5F3A\u5236\u5F3A\u5236\u91CD\u65B0\u6E32\u67D3</span>
        <span class="token keyword">return</span> 
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isNumber</span><span class="token punctuation">(</span>newVal<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        newVal <span class="token operator">=</span> <span class="token number">0</span>                     <span class="token comment">// \u8F93\u5165\u7684\u4E0D\u662F\u6570\u5B57\uFF0C\u6539\u4E3A\u9ED8\u8BA4\u503C</span>
    <span class="token punctuation">}</span>
    data<span class="token punctuation">.</span>userInput <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;update:modelValue&#39;</span><span class="token punctuation">,</span> newVal<span class="token punctuation">)</span>   <span class="token comment">// \u66F4\u6539\u5916\u5C42\u7684v-model\u7ED1\u5B9A\u7684\u503C\uFF0CmodelValue\u662Freadonly\u5E38\u91CF\uFF0C\u4FEE\u6539\u5176\u503C\u9700\u8981\u89E6\u53D1update</span>
    <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;change&#39;</span><span class="token punctuation">,</span> newVal<span class="token punctuation">,</span> oldVal<span class="token punctuation">)</span>      <span class="token comment">// \u89E6\u53D1change\u4E8B\u4EF6\uFF0C\u4F20\u5165\u65B0\u503C\u4E0E\u65E7\u503C</span>
    data<span class="token punctuation">.</span>currentValue <span class="token operator">=</span> newVal          <span class="token comment">// \u66F4\u65B0data.currentvalue</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>\u5728 3.x \u4E2D\uFF0C\u81EA\u5B9A\u4E49\u7EC4\u4EF6\u4E0A\u7684 v-model \u76F8\u5F53\u4E8E\u4F20\u9012\u4E86 modelValue prop \u5E76\u63A5\u6536\u629B\u51FA\u7684 update:modelValue \u4E8B\u4EF6\uFF1A</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ChildComponent</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pageTitle<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- \u662F\u4EE5\u4E0B\u7684\u7B80\u5199: --&gt;</span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ChildComponent</span>
  <span class="token attr-name">:modelValue</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pageTitle<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name"><span class="token namespace">@update:</span>modelValue</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pageTitle = $event<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>\u56E0\u6B64\u4FEE\u6539v-model\u7ED1\u5B9A\u503C\u65F6\u8981\u89E6\u53D1update:modelValue\u4E8B\u4EF6</p></div><p>button\u7684click\u4E8B\u4EF6\u53EA\u8981\u8C03\u7528\u6211\u4EECsetCurrentValue\u65B9\u6CD5\u5373\u53EF\uFF1A</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token comment">// \u6570\u5B57\u6309\u6B65\u957F\u51CF\u5C0F</span>
<span class="token keyword">const</span> <span class="token function-variable function">decrease</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">// console.log(&#39;decrease&#39;);</span>
    <span class="token function">setCurrentValue</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>modelValue <span class="token operator">-</span> props<span class="token punctuation">.</span>step<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u6570\u5B57\u6309\u6B65\u957F\u589E\u52A0</span>
<span class="token keyword">const</span> <span class="token function-variable function">increase</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">// console.log(&#39;increase&#39;);</span>
    <span class="token function">setCurrentValue</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>modelValue <span class="token operator">+</span> props<span class="token punctuation">.</span>step<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>\u7F16\u5199\u7EC4\u4EF6\u9047\u5230\u7684\u9519\u8BEF\uFF1A</p><ul><li><p>Vue3 setup\u8BED\u6CD5\u4E2D\uFF0C\u4F7F\u7528\u6A21\u677F\u5F15\u7528\u65F6\uFF0C\u9700\u8981\u5C06\u5F15\u7528\u7684JS\u53D8\u91CFreturn\uFF0C\u624D\u53EF\u4EE5\u751F\u6548\uFF0C\u5426\u5219\u65E0\u6CD5\u5F15\u7528\u5230\u5BF9\u5E94\u7684DOM\u5143\u7D20</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span><span class="token punctuation">{</span>emit<span class="token punctuation">,</span>attrs<span class="token punctuation">,</span>slots<span class="token punctuation">,</span>expose<span class="token punctuation">}</span></span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> input <span class="token operator">=</span> ref<span class="token operator">&lt;</span>HTMLInputElement<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token keyword">return</span><span class="token punctuation">{</span>
        input<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li><li><p>div\u5143\u7D20\u662F\u6CA1\u6709disabled\u5C5E\u6027\u7684\uFF0C\u56E0\u6B64\u5B9E\u73B0\u7981\u7528\u6548\u679C\u7684\u8BDD\u8981\u4ECE\u5185\u90E8\u7684button\u4E0Einput\u5165\u624B</p></li></ul>`,22);function t(e,o){return p}var l=n(a,[["render",t]]);export{l as default};
